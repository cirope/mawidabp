APP_TOP_LEVEL_MENUS.each do |top_menu|
  menu_name = "audit_menu_#{top_menu}".to_sym
  first_submenu = APP_MODULES_MENU_1_NAMES[menu_name].first
  click "link_#{top_menu}"

  if first_submenu
    second_submenu = nil
    wait_for_element_present 'css=#menu_level_1 li'
    verify_text 'css=#menu_level_1',
      "glob:*#{I18n.t("menu.#{top_menu}_#{first_submenu}")}*"
    verify_element_not_present 'css=#menu_level_2 li'

    APP_MODULES_MENU_2_NAMES.values.each do |menu_2_names|
      menu_2_names.each do |menu_2_name|
        if APP_MODULES_MENU_1_NAMES[menu_name].include?(menu_2_name)
          second_submenu = APP_MODULES_MENU_2_NAMES.invert[menu_2_names]
        end
      end
    end

    if second_submenu
      first_second_submenu = APP_MODULES_MENU_2_NAMES[second_submenu].first
      second_submenu_bare_name = second_submenu.to_s.sub(/^audit_menu_/, '')
      click "link=#{I18n.t("menu.#{second_submenu_bare_name}")}"
      wait_for_element_present 'css=#menu_level_2 li'
      verify_text 'css=#menu_level_2',
        "glob:*#{I18n.t("menu.#{second_submenu_bare_name}_#{first_second_submenu}")}*"
    end
  else
    verify_element_not_present 'css=#menu_level_1 li'
  end
end