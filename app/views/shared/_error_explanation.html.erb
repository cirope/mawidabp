<% model = f.object %>
<% if model.errors.any? %>
  <div class="card border-1 border-danger mb-3">
    <div class="card-header bg-danger">
      <h5 class="m-0 text-white">
        <%= t 'errors.template.header', count: model.errors.count %>
      </h5>
    </div>
    <div class="card-body p-3">
      <p class="mb-2"><%= t 'errors.template.body' %></p>

      <ul class="mb-1">
        <% model.errors.full_messages.each do |msg| %>
          <li><%= msg %></li>
        <% end %>
      </ul>
    </div>
  </div>

  <script type="text/javascript">
    var codeExecuted = false;

    document.addEventListener('DOMContentLoaded', function(e) {
      if ("importmapScriptsLoaded" in window) {
        if (!codeExecuted) {
          State.unsavedData = true;

          codeExecuted = true;
        }
      }
    });
  </script>
<% end %>
