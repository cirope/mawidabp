<!doctype html>
<!--[if lt IE 8]> <html class="lt-ie8"> <![endif]-->
<!--[if gt IE 7]><!--> <html lang="<%= locale %>"> <!--<![endif]-->
<% @title ||= t("actioncontroller.#{controller_name}") %>
<head>
  <meta charset="utf-8" />
  <title><%= t(:app_name) %><%= raw " &lt;#{current_organization.name}&gt;" if current_organization %> | <%= @title %></title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <%= stylesheet_link_tag    'application', data: { turbolinks_track: true }, media: 'all' %>
  <%= javascript_include_tag 'application', data: { turbolinks_track: true } %>
  <!--[if lt IE 8]>
    <%= stylesheet_link_tag    'application-ie', data: { turbolinks_track: true }, media: 'all' %>
  <![endif]-->
  <!--[if lt IE 9]>
    <%= javascript_include_tag 'application-ie', data: { turbolinks_track: true } %>
  <![endif]-->
  <%= csrf_meta_tags %>
  <%= favicon_link_tag '/favicon.ico' %>
  <%= javascript_tag do %>
    <%= raw "State.unsavedDataWarning = '#{t('message.unsaved_data_warning')}';" %>
    <%= raw "State.validationFailedMessage = '#{t('message.validation_failed_message')}';" %>
    <%= yield :js_extra %>
  <% end %>
</head>
<body data-controller="<%= controller_name %>">
  <div class="alert alert-warning hidden loading-caption">
    <strong><%= t 'navigation.loading' %></strong>
  </div>
  <div class="container">
    <%= render 'shared/compatibility_warning' %>
    <%= render 'shared/menu' %>
    <%= yield :submenu %>
    <%= render 'shared/flash' if flash_message.present? %>
    <%= render 'shared/time_left' %>
    <%= yield %>

    <%= javascript_tag do %>
      <%= yield :js_extra_bottom %>
    <% end %>
    <%= yield :extra_html_bottom %>
  </div>
</body>
</html>
