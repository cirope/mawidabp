<!--[form:help_content]-->
<%= form_for @help_content do |hc_f| %>
  <% content_for :js_extra do %>
    <%= raw "var help_item='#{generate_template(hc_f, :help_items)}';" %>
  <% end %>
  <%= hc_f.error_messages %>

  <div class="form_column_left">
    <p class="form_item">
      <%= hc_f.label :language, nil, :class => :inline %>
      <%= hc_f.select :language,
        AVAILABLE_LOCALES.map{ |lang| [t("lang.#{lang}"), lang.to_s] }.sort{ |a, b| a[0] <=> b[0] },
        {}, {:class => :inline_item} %>
    </p>
  </div>

  <div class="items">
    <div class="column_headers">
      <div class="item_column" style="width: 5%;">
        <h3><%= HelpItem.human_attribute_name :order_number %></h3>
      </div>
      <div class="item_column" style="width: 30%;">
        <h3><%= HelpItem.human_attribute_name :name %></h3>
      </div>
      <div class="item_column" style="width: 50%;">
        <h3><%= HelpItem.human_attribute_name :description %></h3>
      </div>
      <div class="item_column" style="width: 10%;"></div>
      <div class="clear"></div>
    </div>

    <div id="help_items">
      <%= hc_f.fields_for :help_items do |hi_f| %>
        <%= render :partial => 'help_item', :locals =>
          {:f => hi_f, :is_dynamic => false} %>
      <% end %>
    </div>
  </div>

  <p class="add_item">
    <%= link_to t(:'label.add_item'), '#', :'data-template' => :help_item,
      :'data-event' => :add_nested_item, :'data-container' => :help_items %>
  </p>

  <%= hidden_lock_version(hc_f) %>
  
  <p>
    <span class="button"><%= hc_f.submit %></span>
  </p>
<% end %>
<!--[eoform:help_content] -->
<%= set_focus_to_first_element %>
<script type="text/javascript">
  Helper.makeSortable('help_items', '#help_items div.help_item',
    '#help_items a.move');
</script>