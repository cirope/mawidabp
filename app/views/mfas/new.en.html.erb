<div class="row justify-content-center">
  <div class="col-md-6">
    <%= form_tag mfa_url, novalidate: 'novalidate', data: { no_observe_changes: true } do %>
      <div class="card mb-3">
        <div class="card-header text-center bg-white border-white pt-5 pb-4">
          <%= image_tag 'logo.svg', alt: t('app_name'), height: 27 %>
        </div>
        <div class="card-body py-0 px-5">
          <% unless @auth_user.mfa_configured_at %>
            <h4 class="text-center">
              Set up Two-Factor Authentication (2FA)
            </h4>
            <p>
              This process requires, in addition to your password, a code generated on your mobile device.
            </p>
            <ul>
              <li>Download an authenticator app (Google Authenticator).</li>
              <li>Scan the QR code with the app.</li>
              <li>Enter the 6-digit code generated by the app.</li>
            </ul>
            <div class="m-2 text-center">
              <%== @auth_user.mfa_qr %>
            </div>
          <% end %>

          <div class="form-inputs">
            <div class="mb-3 form-group">
              <%= label_tag :code, t('.code'), class: 'col-form-label' %>
              <div class="controls">
                <%= text_field_tag :code, params[:code], class: 'form-control form-control-lg',
                  autofocus: true, autocomplete: 'off', maxlength: 255 %>
              </div>
            </div>
          </div>
        </div>

        <div class="card-footer text-center bg-white border-white pb-4">
          <div class="form-actions">
            <%= submit_tag t('mfas.send_code'), class: 'btn btn-lg btn-primary' %>
          </div>
        </div>
      </div>
    <% end %>
  </div>
</div>
